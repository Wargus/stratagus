<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<!--
----	(c) Copyright 2004-2007 by Russell Smith

----    This program is free software; you can redistribute it and/or modify
----    it under the terms of the GNU General Public License as published by
----    the Free Software Foundation; only version 2 of the License.
----
----    This program is distributed in the hope that it will be useful,
----    but WITHOUT ANY WARRANTY; without even the implied warranty of
----    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
----    GNU General Public License for more details.
----
----    You should have received a copy of the GNU General Public License
----    along with this program; if not, write to the Free Software
----    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
----    02111-1307, USA.
-->
    <title>Bos Wars Scripting API: Save Game Files</title>
    <meta http-equiv="Content-Type" content="text/html; CHARSET=iso-8859-1">
</head>
<body>
    <h1>Bos Wars Scripting API: Save Game Files</h1>
<hr>
<a href="../index.html">Stratagus</a> 
<a href="../faq.html">FAQ</a> 
<a href="research.html">PREV</a> 
<a href="sound.html">NEXT</a> 
<a href="index.html">LUA Index</a>
<hr>
<a href="#SaveGame">SaveGame</a>
<a href="#SlotUsage">SlotUsage</a>
<hr>
<h2>Intro - Introduction to savegame functions and variables</h2>

Everything around save games. All of the functions below are primarily used
in the creation and loading of saved games.
<h2>Functions</h2>

<a name="SaveGame"></a>
<h3>SaveGame({SyncHash = x, SyncRandSeed = y, SaveFile = "file"})</h3>

Basic outline of the savegame, include hashs for syncrand and where to load
the rest of the game information from when loading. More information is planed
for implementation, but currently only the above are used.

<dl>
<dt>SyncHash = x</dt>
<dd>integer setting the Hash of the current game for Sync Purposes</dd>
<dt>SyncRandSeed = y</dt>
<dd>integer of the next value to be used when calling SyncRand</dd>
<dt>SaveFile = "file"</dt>
<dd>String containing the name of the file to load to get the rest of the gamedata</dd>
</dl>

<h4>Example</h4>

<pre>
SaveGame({
---  "comment", "Generated by Stratagus Version 2.0",
---  "comment", "Visit http://Stratagus.Org for more informations",
---  "type",    "single-player",
---  "date",    "Mon May 10 19:19:38 2004",
---  "map",     "",
---  "media-version", "Undefined"---  "engine",  {2, 0, 0},
     SyncHash = 196009203,
     SyncRandSeed = -220040269,
     SaveFile = "data.wc2//campaigns/human/level13h.cm"

---  "preview", "/home/devil/.stratagus/wc2/save/current-game.sav.pam",
} )
</pre>

<a name="SlotUsage"></a>
<h3>SlotUsage(MaxSlot, [{Slot = Slot1, FreeCycle = Freecycle1}, ..])</h3>

Allows reloaded Save games to be replayed in sync by reloading the released
units back into the queue they were in when a game was saved.
<dl>
<dt>MaxSlot</dt>
<dd>The total Number of slot used.</dd>
<dt>Slot</dt>
<dd>The Slot Number for the unit that was in the release Queue</dd>
<dt>FreecCycle</dt>
<dd>The Cycle that this unit is/was released in</dd>
</dl>

<h4>Example</h4>
<pre>
    SlotUsage(5, {2, 855})
</pre>

<hr>
All trademarks and copyrights on this page are owned by their respective owners.
<address>(c) 2002-2007 by <a href="http://boswars.org">
The Bos Wars Project</a></address></body></html>
